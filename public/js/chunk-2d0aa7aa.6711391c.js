(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa7aa"],{"10d9":function(e,t,a){"use strict";a.r(t);var c=a("f2bf");const l={class:"tab-pane v-column"},n={class:"v-row tab-container",style:{"justify-content":"center"}},i=["onClick"],o={class:"tab-content v-column"},s={class:"v-row",style:{gap:"8px",margin:"0 0 1em 0"}},p=Object(c["i"])("div",{class:"dropdown-item separator first"},"我的收藏",-1),b=["data-index"],u=Object(c["i"])("div",{class:"dropdown-item last"},"添加到新歌单",-1),O={class:"cell-text"},d=["data-mid"],r=["data-mid"],j={class:"name"},m=["data-mid"],g=Object(c["k"])(" -"),h={class:"name"};function v(e,t,a,v,f,M){const y=Object(c["J"])("Button"),x=Object(c["J"])("popper"),A=Object(c["J"])("icon"),S=Object(c["J"])("table-view"),k=Object(c["J"])("image-view"),w=Object(c["J"])("grid-view");return Object(c["z"])(),Object(c["h"])("div",l,[Object(c["i"])("div",n,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.tabMap.tabList,(t,a)=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["tab",{active:e.tabMap.value===t}]),key:a,onClick:a=>e.tabMap.value=t},Object(c["M"])(t.title),11,i))),128))]),Object(c["i"])("div",o,[Object(c["R"])(Object(c["i"])("div",s,[Object(c["l"])(y,{text:"播放全部",prefixIcon:"play-select",prefixIconSize:"1.5em"}),Object(c["l"])(x,{"content-class":"dropdown"},{content:Object(c["Q"])(()=>[p,(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.userSpecials,(t,a)=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["dropdown-item",{separator:a+1===e.userSpecials.length}]),"data-index":a,key:a},Object(c["M"])(t.name),11,b))),128)),u]),default:Object(c["Q"])(()=>[Object(c["l"])(y,{text:"添加到",prefixIcon:"plus",prefixIconSize:"1.5em",onClick:e.loadProfileSpecial},null,8,["onClick"])]),_:1}),Object(c["l"])(y,{text:"下载",prefixIcon:"my-download",prefixIconSize:"1.5em"}),Object(c["l"])(y,{text:"删除",prefixIcon:"trash",prefixIconSize:"1.5em"}),Object(c["l"])(y,{text:e.multiple?"退出批量操作":"批量操作",prefixIcon:"multiple",prefixIconSize:"1.5em",onClick:e.onMultiple},null,8,["text","onClick"])],512),[[c["O"],e.tabMap.value===e.tabMap.SONG_TAB]]),Object(c["R"])(Object(c["l"])(S,{columns:e.columns,data:e.songList,style:{flex:"auto"},onRowDblclick:e.playMediaList,onInfiniteScroll:e.loadDataList},{title:Object(c["Q"])(({item:e})=>[Object(c["i"])("span",O,Object(c["M"])(e.title),1),e.vip?(Object(c["z"])(),Object(c["f"])(A,{key:0,class:"vip-icon",name:"vip",width:"1em",height:"1em"})):Object(c["g"])("",!0),e.vid?(Object(c["z"])(),Object(c["f"])(A,{key:1,class:"mv-icon",name:"mv",width:"1em",height:"1em"})):Object(c["g"])("",!0)]),singer:Object(c["Q"])(({item:{singer:e=[]}})=>[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e,(e,t)=>(Object(c["z"])(),Object(c["h"])("span",{class:"link cell-text",key:t,"data-mid":e.mid},Object(c["M"])(e.name),9,d))),128))]),album:Object(c["Q"])(({item:{album:e}})=>[e?(Object(c["z"])(),Object(c["h"])("span",{key:0,class:"link cell-text","data-mid":e.mid},Object(c["M"])(e.name),9,r)):Object(c["g"])("",!0)]),_:1},8,["columns","data","onRowDblclick","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.SONG_TAB]]),Object(c["R"])(Object(c["l"])(w,{"cell-widths":"repeat(auto-fit, 13em)",data:e.albumList,onInfiniteScroll:e.loadAlbumData,"cell-height":234,onCellClick:e.onAlbumItemClicked},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(k,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/album.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",j,Object(c["M"])(e.name),1)]),_:1},8,["data","onInfiniteScroll","onCellClick"]),[[c["O"],e.tabMap.value===e.tabMap.ALBUM_TAB]]),Object(c["R"])(Object(c["l"])(w,{class:"arc-rect","cell-widths":"repeat(auto-fit, 16em)",data:e.mvList,"cell-height":206,onInfiniteScroll:e.loadMvData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(k,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/mv.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",null,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.singer,(e,t)=>(Object(c["z"])(),Object(c["h"])("span",{class:"link",key:t,"data-mid":e.mid},Object(c["M"])(e.name),9,m))),128)),g,Object(c["i"])("span",null,Object(c["M"])(e.title),1)])]),_:1},8,["data","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.MV_TAB]]),Object(c["R"])(Object(c["l"])(w,{style:{"margin-top":"1em"},"cell-widths":"repeat(auto-fit, 13em)","cell-height":234,data:e.specialList,onInfiniteScroll:e.loadSpecialData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(k,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/special.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",h,Object(c["M"])(e.name),1)]),_:1},8,["data","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.SPECIAL_TAB]])])])}var f=a("297e"),M=a("c25e"),y=a("846d"),x=a("6c02"),A=Object(c["m"])({name:"Favorite",setup(){const e=Object(c["D"])([]),t=Object(c["D"])([]),a=Object(c["D"])([]),l=Object(c["D"])([]),n={title:"MV",update:!0,page:{current:1,size:30}},i={title:"歌曲",update:!0,page:{current:1,size:30}},o={title:"专辑",update:!0,page:{current:1,size:30}},s={title:"歌单",update:!0,page:{current:1,size:30}},p=[i,o,n,s],b=Object(c["D"])({value:i,tabList:p,SONG_TAB:i,ALBUM_TAB:o,MV_TAB:n,SPECIAL_TAB:s}),u=Object(c["D"])([{type:"index",width:"100px"},{title:"歌曲",property:"title",flex:!0},{title:"歌手",property:"singer"},{title:"专辑",property:"album"},{title:"时长",property:"duration",width:"100px"}]),O=Object(c["F"])(!1),d=Object(c["D"])([]),r=Object(x["d"])(),j=c=>{c&&c.update&&(c.update=!1,c===b.SONG_TAB?(M["a"].open(),Object(y["d"])(c.page).then(t=>{t.page&&Object.assign(c.page,t.page),e.splice(0,e.length,...t.list)}).catch(()=>c.update=!0).finally(M["a"].close)):c===b.ALBUM_TAB?(M["a"].open(),Object(y["b"])(c.page).then(e=>{e.page&&Object.assign(c.page,e.page),a.splice(0,a.length,...e.list)}).finally(M["a"].close)):c===b.MV_TAB?(M["a"].open(),Object(y["c"])(c.page).then(e=>{e.page&&Object.assign(c.page,e.page),t.splice(0,t.length,...e.list)}).catch(()=>c.update=!0).finally(M["a"].close)):c===b.SPECIAL_TAB&&(M["a"].open(),Object(y["e"])(c.page).then(e=>{e.page&&Object.assign(c.page,e.page),l.splice(0,l.length,...e.list)}).catch(()=>c.update=!0).finally(M["a"].close)))};return Object(c["P"])(()=>b.value,j),j(b.SONG_TAB),{tabMap:b,columns:u,songList:e,albumList:a,mvList:t,specialList:l,multiple:O,userSpecials:d,playMediaList:f["a"],onMultiple:()=>{let e=u[0];e.type="index"===e.type?"checkbox":"index",O.value=!O.value},onAlbumItemClicked(e){const t=e.target,c=t.classList;if(c.contains("cover")||c.contains("name")){const e=t.parentNode.getAttribute("data-index"),c=e?Number(e):-1,l=a[c]&&{...a[c],singer:null};l&&r.push({path:"/album-view",query:l})}},loadDataList(){const t=b.SONG_TAB.page;t.current>=1&&t.current<t.pageCount&&(++t.current,M["a"].open(),Object(y["d"])(t).then(a=>{a.page&&Object.assign(t,a.page),e.push(...a.list)}).catch(()=>--t.current).finally(M["a"].close))},loadAlbumData(){const e=b.MV_TAB.page;e.current>=1&&e.current<e.pageCount&&(M["a"].open(),++e.current,Object(y["b"])(e).then(t=>{t.page&&Object.assign(e,t.page),a.push(...t.list)}).catch(()=>--e.current).finally(M["a"].close))},loadMvData(){const e=b.MV_TAB.page;e.current>=1&&e.current<e.pageCount&&(M["a"].open(),++e.current,Object(y["c"])(e).then(a=>{a.page&&Object.assign(e,a.page),t.push(...a.list)}).catch(()=>--e.current).finally(M["a"].close))},loadSpecialData(){const e=b.SPECIAL_TAB.page;e.current>=1&&e.current<e.pageCount&&(M["a"].open(),++e.current,Object(y["e"])(e).then(t=>{t.page&&Object.assign(e,t.page),l.push(...t.list)}).catch(()=>--e.current).finally(M["a"].close))},loadProfileSpecial(){const e=d,t=(new Date).getTime();t-(e.$time||0)<15e3||(e.$time=t,M["a"].open(),Object(y["h"])().then(e=>{e&&d.push(...e.list)}).finally(M["a"].close))}}}}),S=a("6b0d"),k=a.n(S);const w=k()(A,[["render",v]]);t["default"]=w}}]);
//# sourceMappingURL=chunk-2d0aa7aa.6711391c.js.map