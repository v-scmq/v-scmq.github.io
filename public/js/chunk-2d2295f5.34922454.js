(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2295f5"],{dcbb:function(e,t,a){"use strict";a.r(t);var c=a("f2bf");const l={key:0,class:"v-row data-container"},i={class:"v-column"},n={class:"v-row data-statistic"},s={class:"statistic-item"},o={class:"statistic-item"},b={class:"statistic-item"},p={class:"statistic-item"},u={class:"v-row"},r={class:"tab-pane v-column"},O={class:"v-row tab-container",style:{"justify-content":"center"}},j=["onClick"],d={class:"tab-content v-column"},m={class:"cell-text"},g=["data-mid"],v=["data-mid"],h={class:"name"},f=["data-mid"],M=Object(c["k"])(" -"),y={class:"name"};function A(e,t,a,A,S,V){const w=Object(c["J"])("image-view"),x=Object(c["J"])("Button"),I=Object(c["J"])("icon"),B=Object(c["J"])("table-view"),L=Object(c["J"])("grid-view");return Object(c["z"])(),Object(c["h"])(c["a"],null,[e.singer?(Object(c["z"])(),Object(c["h"])("div",l,[Object(c["l"])(w,{modelValue:e.singer.cover,"onUpdate:modelValue":t[0]||(t[0]=t=>e.singer.cover=t),defaultValue:"/icon/singer.png"},null,8,["modelValue"]),Object(c["i"])("div",i,[Object(c["i"])("div",null,Object(c["M"])(e.singer.name||"-"),1),Object(c["i"])("div",n,[Object(c["i"])("span",s,"单曲："+Object(c["M"])(e.singer.songCount||"-"),1),Object(c["i"])("span",o,"专辑："+Object(c["M"])(e.singer.albumCount||"-"),1),Object(c["i"])("span",b,"MV："+Object(c["M"])(e.singer.mvCount||"-"),1),Object(c["i"])("span",p,"粉丝："+Object(c["M"])(e.singer.fansCount||"-"),1)]),Object(c["i"])("div",u,[Object(c["l"])(x,{text:"播放全部",prefixIcon:"play-select",prefixIconSize:"1.5em"}),Object(c["l"])(x,{text:"添加到",prefixIcon:"plus",prefixIconSize:"1.5em"}),Object(c["l"])(x,{text:"下载",prefixIcon:"my-download",prefixIconSize:"1.5em"}),Object(c["l"])(x,{text:"删除",prefixIcon:"trash",prefixIconSize:"1.5em"}),Object(c["l"])(x,{text:e.multiple?"退出批量操作":"批量操作",prefixIcon:"multiple",prefixIconSize:"1.5em"},null,8,["text"])])])])):Object(c["g"])("",!0),Object(c["i"])("div",r,[Object(c["i"])("div",O,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.tabMap.tabList,(t,a)=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["tab",{active:e.tabMap.value===t}]),key:a,onClick:a=>e.tabMap.value=t},Object(c["M"])(t.title),11,j))),128))]),Object(c["i"])("div",d,[Object(c["R"])(Object(c["l"])(B,{columns:e.columns,data:e.songList,style:{flex:"auto"},onRowDblclick:e.playMediaList,onInfiniteScroll:e.loadDataList},{title:Object(c["Q"])(({item:e})=>[Object(c["i"])("span",m,Object(c["M"])(e.title),1),e.vip?(Object(c["z"])(),Object(c["f"])(I,{key:0,class:"vip-icon",name:"vip",width:"1em",height:"1em"})):Object(c["g"])("",!0),e.vid?(Object(c["z"])(),Object(c["f"])(I,{key:1,class:"mv-icon",name:"mv",width:"1em",height:"1em"})):Object(c["g"])("",!0)]),singer:Object(c["Q"])(({item:{singer:e=[]}})=>[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e,(e,t)=>(Object(c["z"])(),Object(c["h"])("span",{class:"link cell-text",key:t,"data-mid":e.mid},Object(c["M"])(e.name),9,g))),128))]),album:Object(c["Q"])(({item:{album:e}})=>[e?(Object(c["z"])(),Object(c["h"])("span",{key:0,class:"link cell-text","data-mid":e.mid},Object(c["M"])(e.name),9,v)):Object(c["g"])("",!0)]),_:1},8,["columns","data","onRowDblclick","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.SONG_TAB]]),Object(c["R"])(Object(c["l"])(L,{"cell-widths":"repeat(auto-fit, 13em)",data:e.albumList,onInfiniteScroll:e.loadAlbumData,"cell-height":234,onCellClick:e.onAlbumItemClicked},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(w,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/album.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",h,Object(c["M"])(e.name),1)]),_:1},8,["data","onInfiniteScroll","onCellClick"]),[[c["O"],e.tabMap.value===e.tabMap.ALBUM_TAB]]),Object(c["R"])(Object(c["l"])(L,{class:"arc-rect","cell-widths":"repeat(auto-fit, 16em)",data:e.mvList,"cell-height":206,onInfiniteScroll:e.loadMvData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(w,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/mv.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",null,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.singer,(e,t)=>(Object(c["z"])(),Object(c["h"])("span",{class:"link",key:t,"data-mid":e.mid},Object(c["M"])(e.name),9,f))),128)),M,Object(c["i"])("span",null,Object(c["M"])(e.title),1)])]),_:1},8,["data","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.MV_TAB]]),Object(c["R"])(Object(c["l"])(L,{style:{"margin-top":"1em"},"cell-widths":"repeat(auto-fit, 13em)","cell-height":234,data:e.specialList,onInfiniteScroll:e.loadSpecialData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(w,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/special.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",y,Object(c["M"])(e.name),1)]),_:1},8,["data","onInfiniteScroll"]),[[c["O"],e.tabMap.value===e.tabMap.SPECIAL_TAB]])])])],64)}var S=a("297e"),V=a("c25e"),w=a("846d"),x=a("6c02"),I=Object(c["m"])({name:"NetSearchView",props:{query:{type:Object,required:!0}},setup(e){const t=Object(c["D"])({}),a=Object(c["D"])([]),l=Object(c["D"])([]),i=Object(c["D"])([]),n=Object(c["D"])([]),s={title:"MV",update:!0,page:{current:1,size:30}},o={title:"歌曲",update:!0,page:{current:1,size:30}},b={title:"专辑",update:!0,page:{current:1,size:30}},p={title:"歌单",update:!0,page:{current:1,size:30}},u=[o,b,s,p],r=Object(c["D"])({value:o,tabList:u,SONG_TAB:o,ALBUM_TAB:b,MV_TAB:s,SPECIAL_TAB:p}),O=Object(c["D"])([{type:"index",width:"100px"},{title:"歌曲",property:"title",flex:!0},{title:"歌手",property:"singer"},{title:"专辑",property:"album"},{title:"时长",property:"duration",width:"100px"}]),j=Object(c["F"])(!1),d=Object(x["d"])();let m="";const g=e=>{e&&e.update&&(e.update=!1,e===r.SONG_TAB?(V["a"].open(),Object(w["s"])(m).then(a=>{const[c]=a.list||[];return c&&Object.assign(t,c),Object(w["t"])(e.page,m)}).then(t=>{t.page&&Object.assign(e.page,t.page),a.splice(0,a.length,...t.list)}).catch(()=>e.update=!0).finally(V["a"].close)):e===r.ALBUM_TAB?(V["a"].open(),Object(w["q"])(e.page,m).then(t=>{t.page&&Object.assign(e.page,t.page),i.splice(0,i.length,...t.list)}).finally(V["a"].close)):e===r.MV_TAB?(V["a"].open(),Object(w["r"])(e.page,m).then(t=>{t.page&&Object.assign(e.page,t.page),l.splice(0,l.length,...t.list)}).catch(()=>e.update=!0).finally(V["a"].close)):e===r.SPECIAL_TAB&&(V["a"].open(),Object(w["u"])(e.page,m).then(t=>{t.page&&Object.assign(e.page,t.page),n.splice(0,n.length,...t.list)}).catch(()=>e.update=!0).finally(V["a"].close)))};return Object(c["P"])(()=>r.value,g),Object(c["P"])(()=>e.query,e=>{e.value&&m!==e.value&&(m=e.value,r.tabList.forEach(e=>{e.update=!0,e.page.total=0,e.page.current=1,e.page.pageCount=0}),r.value===r.SONG_TAB?g(r.SONG_TAB):r.value=r.SONG_TAB)},{immediate:!0}),{tabMap:r,singer:t,columns:O,songList:a,albumList:i,mvList:l,specialList:n,multiple:j,playMediaList:S["a"],onAlbumItemClicked(e){const t=e.target,a=t.classList;if(a.contains("cover")||a.contains("name")){const e=t.parentNode.getAttribute("data-index"),a=e?Number(e):-1,c=i[a]&&{...i[a],singer:null};c&&d.push({path:"/album-view",query:c})}},loadDataList(){const e=r.SONG_TAB.page;e.current>=1&&e.current<e.pageCount&&(++e.current,V["a"].open(),Object(w["t"])(e,m).then(t=>{t.page&&Object.assign(e,t.page),a.push(...t.list)}).catch(()=>--e.current).finally(V["a"].close))},loadAlbumData(){const e=r.MV_TAB.page;e.current>=1&&e.current<e.pageCount&&(V["a"].open(),++e.current,Object(w["q"])(e,m).then(t=>{t.page&&Object.assign(e,t.page),i.push(...t.list)}).catch(()=>--e.current).finally(V["a"].close))},loadMvData(){const e=r.MV_TAB.page;e.current>=1&&e.current<e.pageCount&&(V["a"].open(),++e.current,Object(w["r"])(e,m).then(t=>{t.page&&Object.assign(e,t.page),l.push(...t.list)}).catch(()=>--e.current).finally(V["a"].close))},loadSpecialData(){const e=r.SPECIAL_TAB.page;e.current>=1&&e.current<e.pageCount&&(V["a"].open(),++e.current,Object(w["u"])(e,m).then(t=>{t.page&&Object.assign(e,t.page),n.push(...t.list)}).catch(()=>--e.current).finally(V["a"].close))}}}}),B=a("6b0d"),L=a.n(B);const _=L()(I,[["render",A]]);t["default"]=_}}]);
//# sourceMappingURL=chunk-2d2295f5.34922454.js.map