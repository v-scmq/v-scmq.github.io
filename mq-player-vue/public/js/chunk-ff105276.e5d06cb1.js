(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff105276"],{"23b4":function(e,t,a){"use strict";a.r(t);var c=a("f2bf");const n=["data-tag"],l=["data-mid"],i=Object(c["k"])(" -");function s(e,t,a,s,o,b){const r=Object(c["J"])("image-view"),u=Object(c["J"])("grid-view");return Object(c["z"])(),Object(c["h"])(c["a"],null,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.tags,(a,l)=>(Object(c["z"])(),Object(c["h"])("div",{class:"v-row list-view",key:l,onClick:t[0]||(t[0]=(...t)=>e.onListViewClicked&&e.onListViewClicked(...t))},[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(a,t=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["item",{active:t.id===e.mvTagParam[t.group]}]),key:t.id,"data-tag":t.value},Object(c["M"])(t.name),11,n))),128))]))),128)),Object(c["l"])(u,{class:"arc-rect",style:{"margin-top":"1em"},"cell-widths":"repeat(auto-fit, 16em)",data:e.mvList,"cell-height":206,onInfiniteScroll:e.loadData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(r,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"icon/mv.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",null,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.singer,(e,t)=>(Object(c["z"])(),Object(c["h"])("span",{class:"link",key:t,"data-mid":e.mid},Object(c["M"])(e.name),9,l))),128)),i,Object(c["i"])("span",null,Object(c["M"])(e.title),1)])]),_:1},8,["data","onInfiniteScroll"])],64)}var o=a("846d"),b=a("c25e"),r=Object(c["m"])({name:"MVList",setup(){const e=Object(c["D"])([]),t=Object(c["D"])([]),a=Object(c["D"])({}),n={current:1,size:30};return Object(c["x"])(()=>{b["a"].open(),Object(o["g"])(n,null).then(c=>{c.page&&Object.assign(n,c.page);const l=[];Object.keys(c.tags).forEach(e=>{const t=e,n=c.tags[t];a[t]=n[0]&&n[0].id,n.forEach(t=>t.value=`${t.group=e};${t.id}`),l.push(n)}),e.splice(0,e.length,...l),t.splice(0,t.length,...c.list)}).finally(b["a"].close)}),{tags:e,mvList:t,mvTagParam:a,onListViewClicked(e){const c=e.target.getAttribute("data-tag");if(!c)return;const[l,i]=c.split(";");a[l]!==i&&(a[l]=i,n.current=1,b["a"].open(),Object(o["g"])(n,a).then(e=>{Object.assign(n,e.page),t.splice(0,t.length,...e.list)}).finally(b["a"].close))},loadData(){n.current>=1&&n.current<n.pageCount&&(b["a"].open(),++n.current,Object(o["g"])(n,a).then(e=>{Object.assign(n,e.page),t.push(...e.list)}).catch(()=>--n.current).finally(b["a"].close))}}}}),u=(a("78da"),a("6b0d")),d=a.n(u);const j=d()(r,[["render",s],["__scopeId","data-v-4c634498"]]);t["default"]=j},"78da":function(e,t,a){"use strict";a("a790")},a790:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ff105276.e5d06cb1.js.map