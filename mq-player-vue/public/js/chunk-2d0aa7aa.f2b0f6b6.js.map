{"version":3,"sources":["webpack:///./src/renderer/views/Favorite.vue?bbc5","webpack:///./src/renderer/views/Favorite.vue?df5e","webpack:///./src/renderer/views/Favorite.vue"],"names":["_hoisted_1","class","style","_hoisted_2","_createTextVNode","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","render","_ctx","_cache","$props","$setup","$data","$options","_component_hl_button","_resolveComponent","_component_popover","_component_icon","_component_table_view","_component_image_view","_component_grid_view","_component_tab_pane","_openBlock","_createBlock","tabs","activeTabName","onTabChange","handleTabChanged","song","_withCtx","_createVNode","icon","default","_","content","_createElementBlock","_Fragment","_renderList","userSpecials","item","index","_normalizeClass","separator","length","key","_toDisplayString","name","onClick","loadProfileSpecial","$event","multiple","selection","columns","data","songList","onRowDblclick","playMediaList","onInfiniteScroll","loadDataList","title","vip","width","height","_createCommentVNode","vid","singer","singers","mid","album","albumList","loadAlbumData","onCellClick","onAlbumItemClicked","modelValue","cover","defaultValue","mv","mvList","loadMvData","special","specialList","loadSpecialData","defineComponent","setup","reactive","MV_TAB","update","page","current","size","SONG_TAB","ALBUM_TAB","SPECIAL_TAB","ref","type","property","flex","router","useRouter","newTab","value","Spinner","open","getLikeSongs","then","Object","assign","splice","list","catch","finally","close","getLikeAlbums","getLikeMvs","getLikeSpecials","event","node","target","classList","contains","parentNode","getAttribute","Number","push","path","query","pageCount","updatable","millis","Date","getTime","$time","getProfileSpecials","__exports__"],"mappings":"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","file":"public/js/chunk-2d0aa7aa.f2b0f6b6.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"v-row\",\n  style: {\"gap\":\"8px\",\"margin\":\"0 0 1em 0\",\"--button-icon-size\":\"1.5em\"}\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"播放全部\")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"添加到\")\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"dropdown-item separator first\" }, \"我的收藏\", -1)\nconst _hoisted_5 = [\"data-index\"]\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"dropdown-item last\" }, \"添加到新歌单\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"下载\")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"删除\")\nconst _hoisted_9 = { class: \"cell-text\" }\nconst _hoisted_10 = [\"data-mid\"]\nconst _hoisted_11 = [\"data-mid\"]\nconst _hoisted_12 = { class: \"name\" }\nconst _hoisted_13 = [\"data-mid\"]\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\" -\")\nconst _hoisted_15 = { class: \"name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_hl_button = _resolveComponent(\"hl-button\")!\n  const _component_popover = _resolveComponent(\"popover\")!\n  const _component_icon = _resolveComponent(\"icon\")!\n  const _component_table_view = _resolveComponent(\"table-view\")!\n  const _component_image_view = _resolveComponent(\"image-view\")!\n  const _component_grid_view = _resolveComponent(\"grid-view\")!\n  const _component_tab_pane = _resolveComponent(\"tab-pane\")!\n\n  return (_openBlock(), _createBlock(_component_tab_pane, {\n    tabs: _ctx.tabs,\n    activeTabName: _ctx.activeTabName,\n    onTabChange: _ctx.handleTabChanged\n  }, {\n    song: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_hl_button, { icon: \"play-select\" }, {\n          default: _withCtx(() => [\n            _hoisted_2\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_popover, { \"content-class\": \"dropdown\" }, {\n          content: _withCtx(() => [\n            _hoisted_4,\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.userSpecials, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"dropdown-item\", {separator: index + 1 === _ctx.userSpecials.length}]),\n                \"data-index\": index,\n                key: index\n              }, _toDisplayString(item.name), 11, _hoisted_5))\n            }), 128)),\n            _hoisted_6\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_hl_button, {\n              icon: \"plus\",\n              onClick: _ctx.loadProfileSpecial\n            }, {\n              default: _withCtx(() => [\n                _hoisted_3\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_hl_button, { icon: \"my-download\" }, {\n          default: _withCtx(() => [\n            _hoisted_7\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_hl_button, { icon: \"trash\" }, {\n          default: _withCtx(() => [\n            _hoisted_8\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_hl_button, {\n          icon: \"multiple\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.multiple = !_ctx.multiple))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.multiple ? '退出批量操作' : '批量操作'), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _createVNode(_component_table_view, {\n        style: {\"flex\":\"auto\"},\n        selection: _ctx.multiple,\n        columns: _ctx.columns,\n        data: _ctx.songList,\n        onRowDblclick: _ctx.playMediaList,\n        onInfiniteScroll: _ctx.loadDataList\n      }, {\n        title: _withCtx(({item}) => [\n          _createElementVNode(\"span\", _hoisted_9, _toDisplayString(item.title), 1),\n          (item.vip)\n            ? (_openBlock(), _createBlock(_component_icon, {\n                key: 0,\n                class: \"vip-icon\",\n                name: \"vip\",\n                width: \"1em\",\n                height: \"1em\"\n              }))\n            : _createCommentVNode(\"\", true),\n          (item.vid)\n            ? (_openBlock(), _createBlock(_component_icon, {\n                key: 1,\n                class: \"mv-icon\",\n                name: \"mv\",\n                width: \"1em\",\n                height: \"1em\"\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        singer: _withCtx(({item:{singer:singers = []}}) => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(singers, (singer, index) => {\n            return (_openBlock(), _createElementBlock(\"span\", {\n              class: \"link cell-text\",\n              key: index,\n              \"data-mid\": singer.mid\n            }, _toDisplayString(singer.name), 9, _hoisted_10))\n          }), 128))\n        ]),\n        album: _withCtx(({item:{album}}) => [\n          album\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                class: \"link cell-text\",\n                \"data-mid\": album.mid\n              }, _toDisplayString(album.name), 9, _hoisted_11))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }, 8, [\"selection\", \"columns\", \"data\", \"onRowDblclick\", \"onInfiniteScroll\"])\n    ]),\n    album: _withCtx(() => [\n      _createVNode(_component_grid_view, {\n        \"cell-widths\": \"repeat(auto-fit, 13em)\",\n        \"cell-height\": 234,\n        data: _ctx.albumList,\n        onInfiniteScroll: _ctx.loadAlbumData,\n        onCellClick: _ctx.onAlbumItemClicked\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/album.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", _hoisted_12, _toDisplayString(item.name), 1)\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\", \"onCellClick\"])\n    ]),\n    mv: _withCtx(() => [\n      _createVNode(_component_grid_view, {\n        class: \"arc-rect\",\n        \"cell-widths\": \"repeat(auto-fit, 16em)\",\n        data: _ctx.mvList,\n        \"cell-height\": 206,\n        onInfiniteScroll: _ctx.loadMvData\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/mv.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.singer, (singer, index) => {\n              return (_openBlock(), _createElementBlock(\"span\", {\n                class: \"link\",\n                key: index,\n                \"data-mid\": singer.mid\n              }, _toDisplayString(singer.name), 9, _hoisted_13))\n            }), 128)),\n            _hoisted_14,\n            _createElementVNode(\"span\", null, _toDisplayString(item.title), 1)\n          ])\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\"])\n    ]),\n    special: _withCtx(() => [\n      _createVNode(_component_grid_view, {\n        style: {\"margin-top\":\"1em\"},\n        \"cell-widths\": \"repeat(auto-fit, 13em)\",\n        \"cell-height\": 234,\n        data: _ctx.specialList,\n        onInfiniteScroll: _ctx.loadSpecialData\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/special.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", _hoisted_15, _toDisplayString(item.name), 1)\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\"])\n    ]),\n    _: 1\n  }, 8, [\"tabs\", \"activeTabName\", \"onTabChange\"]))\n}","\r\nimport {playMediaList} from '../player/hooks';\r\nimport Spinner from '../components/Spinner';\r\n\r\nimport {TableColumn, Tab as BaseTab} from '../components/types';\r\nimport {Album, Mv, Song, ComputedPage, Special} from '../../types';\r\nimport {getLikeSongs, getLikeAlbums, getLikeMvs, getLikeSpecials, getProfileSpecials} from '../api';\r\n\r\nimport {reactive, defineComponent, ref} from 'vue';\r\nimport {useRouter} from 'vue-router';\r\n\r\ntype TabName = 'song' | 'album' | 'mv' | 'special';\r\n\r\n/**\r\n * 选项卡信息\r\n */\r\ntype Tab = BaseTab & {\r\n  /** 选项卡标题 */\r\n  title: string;\r\n  name: TabName;\r\n  /** 数据是否需要更新 */\r\n  update: boolean;\r\n  /** 选项卡对应的视图是分页信息 */\r\n  page: ComputedPage;\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'Favorite',\r\n\r\n  setup() {\r\n    const songList = reactive<Song[]>([]);\r\n    const mvList = reactive<Mv[]>([]);\r\n    const albumList = reactive<Album[]>([]);\r\n    const specialList = reactive<Special[]>([]);\r\n\r\n    const MV_TAB = {title: 'MV', name: 'mv', update: true, page: {current: 1, size: 30}} as Tab;\r\n    const SONG_TAB = {title: '歌曲', name: 'song', update: true, page: {current: 1, size: 30}} as Tab;\r\n    const ALBUM_TAB = {title: '专辑', name: 'album', update: true, page: {current: 1, size: 30}} as Tab;\r\n    const SPECIAL_TAB = {title: '歌单', name: 'special', update: true, page: {current: 1, size: 30}} as Tab;\r\n\r\n    const tabs = [SONG_TAB, ALBUM_TAB, MV_TAB, SPECIAL_TAB];\r\n    const activeTabName = ref<TabName>('song');\r\n\r\n    const columns: TableColumn[] = [\r\n      {type: 'index', width: '100px'},\r\n      {title: '歌曲', property: 'title', flex: true},\r\n      {title: '歌手', property: 'singer'},\r\n      {title: '专辑', property: 'album'},\r\n      {title: '时长', property: 'duration', width: '100px'}\r\n    ];\r\n\r\n    const multiple = ref(false);\r\n\r\n    // 当前登录的用户歌单\r\n    const userSpecials = reactive<Special[]>([]);\r\n\r\n    const router = useRouter();\r\n\r\n    /**\r\n     * 处理选项卡改变事件\r\n     *\r\n     * @param newTab 新选定的选项卡\r\n     */\r\n    const handleTabChanged = (newTab: Tab) => {\r\n      activeTabName.value = newTab.name;\r\n\r\n      // 若未选定任何一个选项卡 或 当前选项卡无需更新数据, 则什么也不做\r\n      if (!newTab.update) {\r\n        return;\r\n      }\r\n\r\n      // 立刻重置为无需更新状态\r\n      newTab.update = false;\r\n\r\n      // 打开进度指示器\r\n      Spinner.open();\r\n\r\n      // 分页信息\r\n      const page = newTab.page as ComputedPage;\r\n\r\n      // 若选定歌曲选项卡\r\n      if (newTab.name === SONG_TAB.name) {\r\n        // 获取收藏的歌曲列表\r\n        getLikeSongs(page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(page, data.page);\r\n          // 添加歌曲\r\n          songList.splice(0, songList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n      }\r\n\r\n      if (newTab.name === ALBUM_TAB.name) {\r\n        // 获取收藏的专辑列表\r\n        getLikeAlbums(page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(page, data.page);\r\n          // 添加专辑\r\n          albumList.splice(0, albumList.length, ...data.list);\r\n\r\n        }).finally(Spinner.close);\r\n\r\n      }\r\n\r\n      if (newTab.name === MV_TAB.name) {\r\n        // 获取收藏的mv列表\r\n        getLikeMvs(page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(page, data.page);\r\n\r\n          // 添加Mv\r\n          mvList.splice(0, mvList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n\r\n      }\r\n\r\n      if (newTab.name === 'special') {\r\n        // 获取收藏的歌单\r\n        getLikeSpecials(page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(page, data.page);\r\n\r\n          // 添加歌单\r\n          specialList.splice(0, specialList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n      }\r\n    };\r\n\r\n    // 主动调用tab改变处理器方法\r\n    handleTabChanged(SONG_TAB);\r\n\r\n    return {\r\n      tabs, activeTabName, columns, songList, albumList, mvList, specialList, multiple, userSpecials,\r\n\r\n      handleTabChanged,\r\n\r\n      playMediaList,\r\n\r\n      /**\r\n       * 当专辑列表项点击时,跳转到专辑视图\r\n       *\r\n       * @param event 点击事件\r\n       */\r\n      onAlbumItemClicked(event: PointerEvent) {\r\n        const node = event.target as HTMLElement, classList = node.classList;\r\n        if (classList.contains('cover') || classList.contains('name')) {\r\n          // 获取数据索引\r\n          const value = (node.parentNode as HTMLElement).getAttribute('data-index');\r\n          const index = value ? Number(value) : -1;\r\n          // 提取专辑信息\r\n          const album = albumList[index] && {...albumList[index], singer: null};\r\n          // 若存在专辑信息, 则跳转到专辑视图\r\n          album && router.push({path: '/album-view', query: album});\r\n        }\r\n      },\r\n\r\n      loadDataList() {\r\n        const page = SONG_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          ++page.current;\r\n          Spinner.open();\r\n\r\n          // 获取收藏的歌曲列表\r\n          getLikeSongs(page).then(data => {\r\n            // 重设置分页信息\r\n            data.page && Object.assign(page, data.page);\r\n            // 添加歌曲\r\n            songList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadAlbumData() {\r\n        const page = MV_TAB.page;\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          // 获取收藏的专辑列表\r\n          getLikeAlbums(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n            // 添加专辑\r\n            albumList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadMvData() {\r\n        const page = MV_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          getLikeMvs(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n\r\n            // 添加Mv\r\n            mvList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadSpecialData() {\r\n        const page = SPECIAL_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          getLikeSpecials(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n\r\n            // 添加歌单\r\n            specialList.push(...data.list);\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      loadProfileSpecial() {\r\n        const updatable = userSpecials as any;\r\n\r\n        const millis = new Date().getTime();\r\n        // 若时间差不到15秒, 则不获取更新\r\n        if ((millis - (updatable.$time || 0)) < 15000) {\r\n          return;\r\n        }\r\n\r\n        updatable.$time = millis;\r\n\r\n        Spinner.open();\r\n\r\n        getProfileSpecials()\r\n            .then(data => void (data && userSpecials.push(...data.list)))\r\n            .finally(Spinner.close);\r\n      }\r\n\r\n    };\r\n  }\r\n\r\n});\r\n","import { render } from \"./Favorite.vue?vue&type=template&id=c79c9230&ts=true\"\nimport script from \"./Favorite.vue?vue&type=script&lang=ts\"\nexport * from \"./Favorite.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\SCMQ\\\\project\\\\HTML\\\\mq-player-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}