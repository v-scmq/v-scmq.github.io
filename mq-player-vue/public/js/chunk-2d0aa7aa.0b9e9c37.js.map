{"version":3,"sources":["webpack:///./src/renderer/views/Favorite.vue?19b1","webpack:///./src/renderer/views/Favorite.vue?df5e","webpack:///./src/renderer/views/Favorite.vue"],"names":["_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createElementVNode","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_createTextVNode","_hoisted_15","render","_ctx","_cache","$props","$setup","$data","$options","_component_Button","_resolveComponent","_component_popover","_component_icon","_component_table_view","_component_image_view","_component_grid_view","_openBlock","_createElementBlock","_Fragment","_renderList","tabMap","tabList","tab","index","_normalizeClass","active","value","key","onClick","$event","_toDisplayString","title","_withDirectives","_createVNode","text","prefixIcon","prefixIconSize","content","_withCtx","userSpecials","item","separator","length","name","default","loadProfileSpecial","_","multiple","onMultiple","_vShow","SONG_TAB","columns","data","songList","onRowDblclick","playMediaList","onInfiniteScroll","loadDataList","vip","_createBlock","width","height","_createCommentVNode","vid","singer","singers","mid","album","albumList","loadAlbumData","onCellClick","onAlbumItemClicked","modelValue","cover","defaultValue","ALBUM_TAB","mvList","loadMvData","MV_TAB","specialList","loadSpecialData","SPECIAL_TAB","defineComponent","setup","reactive","update","page","current","size","type","property","flex","ref","router","useRouter","handleTabChanged","newTab","Spinner","open","getLikeSongs","then","Object","assign","splice","list","catch","finally","close","getLikeAlbums","getLikeMvs","getLikeSpecials","watch","column","event","node","target","classList","contains","parentNode","getAttribute","Number","push","path","query","pageCount","updatable","millis","Date","getTime","$time","getProfileSpecials","__exports__"],"mappings":"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","file":"public/js/chunk-2d0aa7aa.0b9e9c37.js","sourcesContent":["import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"tab-pane v-column\" }\nconst _hoisted_2 = {\n  class: \"v-row tab-container\",\n  style: {\"justify-content\":\"center\"}\n}\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"tab-content v-column\" }\nconst _hoisted_5 = {\n  class: \"v-row\",\n  style: {\"gap\":\"8px\",\"margin\":\"0 0 1em 0\"}\n}\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"dropdown-item separator first\" }, \"我的收藏\", -1)\nconst _hoisted_7 = [\"data-index\"]\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"dropdown-item last\" }, \"添加到新歌单\", -1)\nconst _hoisted_9 = { class: \"cell-text\" }\nconst _hoisted_10 = [\"data-mid\"]\nconst _hoisted_11 = [\"data-mid\"]\nconst _hoisted_12 = { class: \"name\" }\nconst _hoisted_13 = [\"data-mid\"]\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\" -\")\nconst _hoisted_15 = { class: \"name\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Button = _resolveComponent(\"Button\")!\n  const _component_popover = _resolveComponent(\"popover\")!\n  const _component_icon = _resolveComponent(\"icon\")!\n  const _component_table_view = _resolveComponent(\"table-view\")!\n  const _component_image_view = _resolveComponent(\"image-view\")!\n  const _component_grid_view = _resolveComponent(\"grid-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tabMap.tabList, (tab, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: _normalizeClass([\"tab\", {active: _ctx.tabMap.value === tab}]),\n          key: index,\n          onClick: ($event: any) => (_ctx.tabMap.value = tab)\n        }, _toDisplayString(tab.title), 11, _hoisted_3))\n      }), 128))\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _withDirectives(_createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(_component_Button, {\n          text: \"播放全部\",\n          prefixIcon: \"play-select\",\n          prefixIconSize: \"1.5em\"\n        }),\n        _createVNode(_component_popover, { \"content-class\": \"dropdown\" }, {\n          content: _withCtx(() => [\n            _hoisted_6,\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.userSpecials, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"dropdown-item\", {separator: index + 1 === _ctx.userSpecials.length}]),\n                \"data-index\": index,\n                key: index\n              }, _toDisplayString(item.name), 11, _hoisted_7))\n            }), 128)),\n            _hoisted_8\n          ]),\n          default: _withCtx(() => [\n            _createVNode(_component_Button, {\n              text: \"添加到\",\n              prefixIcon: \"plus\",\n              prefixIconSize: \"1.5em\",\n              onClick: _ctx.loadProfileSpecial\n            }, null, 8, [\"onClick\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_Button, {\n          text: \"下载\",\n          prefixIcon: \"my-download\",\n          prefixIconSize: \"1.5em\"\n        }),\n        _createVNode(_component_Button, {\n          text: \"删除\",\n          prefixIcon: \"trash\",\n          prefixIconSize: \"1.5em\"\n        }),\n        _createVNode(_component_Button, {\n          text: _ctx.multiple ? '退出批量操作':'批量操作',\n          prefixIcon: \"multiple\",\n          prefixIconSize: \"1.5em\",\n          onClick: _ctx.onMultiple\n        }, null, 8, [\"text\", \"onClick\"])\n      ], 512), [\n        [_vShow, _ctx.tabMap.value===_ctx.tabMap.SONG_TAB]\n      ]),\n      _withDirectives(_createVNode(_component_table_view, {\n        columns: _ctx.columns,\n        data: _ctx.songList,\n        style: {\"flex\":\"auto\"},\n        onRowDblclick: _ctx.playMediaList,\n        onInfiniteScroll: _ctx.loadDataList\n      }, {\n        title: _withCtx(({item}) => [\n          _createElementVNode(\"span\", _hoisted_9, _toDisplayString(item.title), 1),\n          (item.vip)\n            ? (_openBlock(), _createBlock(_component_icon, {\n                key: 0,\n                class: \"vip-icon\",\n                name: \"vip\",\n                width: \"1em\",\n                height: \"1em\"\n              }))\n            : _createCommentVNode(\"\", true),\n          (item.vid)\n            ? (_openBlock(), _createBlock(_component_icon, {\n                key: 1,\n                class: \"mv-icon\",\n                name: \"mv\",\n                width: \"1em\",\n                height: \"1em\"\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        singer: _withCtx(({item:{singer:singers = []}}) => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(singers, (singer, index) => {\n            return (_openBlock(), _createElementBlock(\"span\", {\n              class: \"link cell-text\",\n              key: index,\n              \"data-mid\": singer.mid\n            }, _toDisplayString(singer.name), 9, _hoisted_10))\n          }), 128))\n        ]),\n        album: _withCtx(({item:{album}}) => [\n          album\n            ? (_openBlock(), _createElementBlock(\"span\", {\n                key: 0,\n                class: \"link cell-text\",\n                \"data-mid\": album.mid\n              }, _toDisplayString(album.name), 9, _hoisted_11))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }, 8, [\"columns\", \"data\", \"onRowDblclick\", \"onInfiniteScroll\"]), [\n        [_vShow, _ctx.tabMap.value===_ctx.tabMap.SONG_TAB]\n      ]),\n      _withDirectives(_createVNode(_component_grid_view, {\n        \"cell-widths\": \"repeat(auto-fit, 13em)\",\n        data: _ctx.albumList,\n        onInfiniteScroll: _ctx.loadAlbumData,\n        \"cell-height\": 234,\n        onCellClick: _ctx.onAlbumItemClicked\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/album.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", _hoisted_12, _toDisplayString(item.name), 1)\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\", \"onCellClick\"]), [\n        [_vShow, _ctx.tabMap.value===_ctx.tabMap.ALBUM_TAB]\n      ]),\n      _withDirectives(_createVNode(_component_grid_view, {\n        class: \"arc-rect\",\n        \"cell-widths\": \"repeat(auto-fit, 16em)\",\n        data: _ctx.mvList,\n        \"cell-height\": 206,\n        onInfiniteScroll: _ctx.loadMvData\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/mv.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.singer, (singer, index) => {\n              return (_openBlock(), _createElementBlock(\"span\", {\n                class: \"link\",\n                key: index,\n                \"data-mid\": singer.mid\n              }, _toDisplayString(singer.name), 9, _hoisted_13))\n            }), 128)),\n            _hoisted_14,\n            _createElementVNode(\"span\", null, _toDisplayString(item.title), 1)\n          ])\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\"]), [\n        [_vShow, _ctx.tabMap.value===_ctx.tabMap.MV_TAB]\n      ]),\n      _withDirectives(_createVNode(_component_grid_view, {\n        style: {\"margin-top\":\"1em\"},\n        \"cell-widths\": \"repeat(auto-fit, 13em)\",\n        \"cell-height\": 234,\n        data: _ctx.specialList,\n        onInfiniteScroll: _ctx.loadSpecialData\n      }, {\n        default: _withCtx(({item}) => [\n          _createVNode(_component_image_view, {\n            modelValue: item.cover,\n            \"onUpdate:modelValue\": ($event: any) => ((item.cover) = $event),\n            defaultValue: \"icon/special.png\"\n          }, null, 8, [\"modelValue\", \"onUpdate:modelValue\"]),\n          _createElementVNode(\"div\", _hoisted_15, _toDisplayString(item.name), 1)\n        ]),\n        _: 1\n      }, 8, [\"data\", \"onInfiniteScroll\"]), [\n        [_vShow, _ctx.tabMap.value===_ctx.tabMap.SPECIAL_TAB]\n      ])\n    ])\n  ]))\n}","\r\nimport {playMediaList} from '../player/hooks';\r\nimport Spinner from '../components/Spinner';\r\n\r\nimport {TableColumn} from '../components/types';\r\nimport {Album, Mv, Song, ComputedPage, Special} from '../../types';\r\nimport {getLikeSongs, getLikeAlbums, getLikeMvs, getLikeSpecials, getProfileSpecials} from '../api';\r\n\r\nimport {reactive, watch, defineComponent, ref} from 'vue';\r\nimport {useRouter} from 'vue-router';\r\n\r\n/**\r\n * 选项卡信息\r\n */\r\ntype Tab = {\r\n  /** 选项卡标题 */\r\n  title: string;\r\n  /** 数据是否需要更新 */\r\n  update: boolean;\r\n  /** 选项卡对应的视图是分页信息 */\r\n  page: ComputedPage;\r\n};\r\n\r\nexport default defineComponent({\r\n  name: 'Favorite',\r\n\r\n  setup() {\r\n    const songList = reactive<Song[]>([]);\r\n    const mvList = reactive<Mv[]>([]);\r\n    const albumList = reactive<Album[]>([]);\r\n    const specialList = reactive<Special[]>([]);\r\n\r\n    const MV_TAB: Tab = {title: 'MV', update: true, page: {current: 1, size: 30} as ComputedPage};\r\n    const SONG_TAB: Tab = {title: '歌曲', update: true, page: {current: 1, size: 30} as ComputedPage};\r\n    const ALBUM_TAB: Tab = {title: '专辑', update: true, page: {current: 1, size: 30} as ComputedPage};\r\n    const SPECIAL_TAB: Tab = {title: '歌单', update: true, page: {current: 1, size: 30} as ComputedPage};\r\n    const tabList = [SONG_TAB, ALBUM_TAB, MV_TAB, SPECIAL_TAB];\r\n    const tabMap = reactive({value: SONG_TAB, tabList, SONG_TAB, ALBUM_TAB, MV_TAB, SPECIAL_TAB});\r\n\r\n    const columns = reactive<TableColumn[]>([\r\n      {type: 'index', width: '100px'},\r\n      {title: '歌曲', property: 'title', flex: true},\r\n      {title: '歌手', property: 'singer'},\r\n      {title: '专辑', property: 'album'},\r\n      {title: '时长', property: 'duration', width: '100px'}\r\n    ]);\r\n\r\n    const multiple = ref(false);\r\n\r\n    // 当前登录的用户歌单\r\n    const userSpecials = reactive<Special[]>([]);\r\n\r\n    const router = useRouter();\r\n\r\n    /**\r\n     * 处理选项卡改变事件\r\n     *\r\n     * @param newTab 新选定的选项卡\r\n     */\r\n    const handleTabChanged = (newTab: Tab) => {\r\n      // 若未选定任何一个选项卡 或 当前选项卡无需更新数据, 则什么也不做\r\n      if (!newTab || !newTab.update) return;\r\n      // 立刻重置为无需更新状态\r\n      newTab.update = false;\r\n\r\n      // 若选定歌曲选项卡\r\n      if (newTab === tabMap.SONG_TAB) {\r\n        // 打开进度指示器\r\n        Spinner.open();\r\n\r\n        // 获取收藏的歌曲列表\r\n        getLikeSongs(newTab.page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(newTab.page, data.page);\r\n          // 添加歌曲\r\n          songList.splice(0, songList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n\r\n      } else if (newTab === tabMap.ALBUM_TAB) {\r\n        Spinner.open();\r\n\r\n        // 获取收藏的专辑列表\r\n        getLikeAlbums(newTab.page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(newTab.page, data.page);\r\n          // 添加专辑\r\n          albumList.splice(0, albumList.length, ...data.list);\r\n\r\n        }).finally(Spinner.close);\r\n\r\n      } else if (newTab === tabMap.MV_TAB) {\r\n        Spinner.open();\r\n\r\n        // 获取收藏的mv列表\r\n        getLikeMvs(newTab.page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(newTab.page, data.page);\r\n\r\n          // 添加Mv\r\n          mvList.splice(0, mvList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n\r\n      } else if (newTab === tabMap.SPECIAL_TAB) {\r\n        // 打开进度指示器\r\n        Spinner.open();\r\n\r\n        // 获取收藏的歌单\r\n        getLikeSpecials(newTab.page).then(data => {\r\n          // 修改分页信息\r\n          data.page && Object.assign(newTab.page, data.page);\r\n\r\n          // 添加歌单\r\n          specialList.splice(0, specialList.length, ...data.list);\r\n\r\n        }).catch(() => newTab.update = true).finally(Spinner.close);\r\n      }\r\n    };\r\n\r\n    watch(() => tabMap.value, handleTabChanged);\r\n    // 主动调用tab改变处理器方法\r\n    handleTabChanged(tabMap.SONG_TAB);\r\n\r\n    return {\r\n      tabMap, columns, songList, albumList, mvList, specialList, multiple, userSpecials,\r\n\r\n      playMediaList,\r\n\r\n      /** 开始或结束批量操作 */\r\n      onMultiple: () => {\r\n        let column = columns[0];\r\n        column.type = column.type === 'index' ? 'checkbox' : 'index';\r\n        multiple.value = !multiple.value\r\n      },\r\n\r\n      /**\r\n       * 当专辑列表项点击时,跳转到专辑视图\r\n       *\r\n       * @param event 点击事件\r\n       */\r\n      onAlbumItemClicked(event: PointerEvent) {\r\n        const node = event.target as HTMLElement, classList = node.classList;\r\n        if (classList.contains('cover') || classList.contains('name')) {\r\n          // 获取数据索引\r\n          const value = (node.parentNode as HTMLElement).getAttribute('data-index');\r\n          const index = value ? Number(value) : -1;\r\n          // 提取专辑信息\r\n          const album = albumList[index] && {...albumList[index], singer: null};\r\n          // 若存在专辑信息, 则跳转到专辑视图\r\n          album && router.push({path: '/album-view', query: album});\r\n        }\r\n      },\r\n\r\n      loadDataList() {\r\n        const page = tabMap.SONG_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          ++page.current;\r\n          Spinner.open();\r\n\r\n          // 获取收藏的歌曲列表\r\n          getLikeSongs(page).then(data => {\r\n            // 重设置分页信息\r\n            data.page && Object.assign(page, data.page);\r\n            // 添加歌曲\r\n            songList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadAlbumData() {\r\n        const page = tabMap.MV_TAB.page;\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          // 获取收藏的专辑列表\r\n          getLikeAlbums(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n            // 添加专辑\r\n            albumList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadMvData() {\r\n        const page = tabMap.MV_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          getLikeMvs(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n\r\n            // 添加Mv\r\n            mvList.push(...data.list);\r\n\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      /** 加载数据到视图上(无限滚动触发点) */\r\n      loadSpecialData() {\r\n        const page = tabMap.SPECIAL_TAB.page;\r\n\r\n        // 若还有数据, 则发起网络请求加载歌曲数据列表\r\n        if (page.current >= 1 && page.current < page.pageCount) {\r\n          Spinner.open();\r\n\r\n          ++page.current;\r\n\r\n          getLikeSpecials(page).then(data => {\r\n            // 修改分页信息\r\n            data.page && Object.assign(page, data.page);\r\n\r\n            // 添加歌单\r\n            specialList.push(...data.list);\r\n          }).catch(() => --page.current).finally(Spinner.close);\r\n        }\r\n      },\r\n\r\n      loadProfileSpecial() {\r\n        const updatable = userSpecials as any;\r\n\r\n        const millis = new Date().getTime();\r\n        // 若时间差不到15秒, 则不获取更新\r\n        if ((millis - (updatable.$time || 0)) < 15000) {\r\n          return;\r\n        }\r\n\r\n        updatable.$time = millis;\r\n\r\n        Spinner.open();\r\n\r\n        getProfileSpecials()\r\n            .then(data => void (data && userSpecials.push(...data.list)))\r\n            .finally(Spinner.close);\r\n      }\r\n\r\n    };\r\n  }\r\n\r\n});\r\n","import { render } from \"./Favorite.vue?vue&type=template&id=2e590e80&ts=true\"\nimport script from \"./Favorite.vue?vue&type=script&lang=ts\"\nexport * from \"./Favorite.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\SCMQ\\\\project\\\\HTML\\\\mq-player-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}