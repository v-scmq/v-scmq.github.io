(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cb04889"],{"40d6":function(e,t,a){},"98b5":function(e,t,a){"use strict";a("40d6")},f25e:function(e,t,a){"use strict";a.r(t);var c=a("f2bf");const i=e=>(Object(c["C"])("data-v-28a1979b"),e=e(),Object(c["A"])(),e),l=["data-id"],s=i(()=>Object(c["i"])("div",{class:"item special-tag-more"},"更多",-1)),n={class:"name"},b=["data-id"];function d(e,t,a,i,d,o){const j=Object(c["J"])("image-view"),O=Object(c["J"])("grid-view"),r=Object(c["J"])("modal");return Object(c["z"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",{class:"v-row list-view",onClick:t[0]||(t[0]=(...t)=>e.onListViewClicked&&e.onListViewClicked(...t))},[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.visibleTags,t=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["item",{active:e.specialTagParam.id===t.id}]),key:t.id,"data-id":t.id},Object(c["M"])(t.name),11,l))),128)),s]),Object(c["l"])(O,{style:{"margin-top":"1em"},data:e.specialList,"cell-widths":"repeat(auto-fit, 13em)","cell-height":234,onInfiniteScroll:e.loadData},{default:Object(c["Q"])(({item:e})=>[Object(c["l"])(j,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/special.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(c["i"])("div",n,Object(c["M"])(e.name),1)]),_:1},8,["data","onInfiniteScroll"]),Object(c["l"])(r,{modality:"",title:"全部分类",width:"70%",height:"60%",visible:e.tagModal,"onUpdate:visible":t[2]||(t[2]=t=>e.tagModal=t)},{content:Object(c["Q"])(()=>[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(e.tags,(a,i)=>(Object(c["z"])(),Object(c["h"])(c["a"],{key:i},[Object(c["k"])(Object(c["M"])(a.title)+" ",1),Object(c["i"])("div",{class:"v-row list-view",onClick:t[1]||(t[1]=(...t)=>e.onListViewClicked&&e.onListViewClicked(...t))},[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["H"])(a.items,(t,a)=>(Object(c["z"])(),Object(c["h"])("div",{class:Object(c["s"])(["item",{active:e.specialTagParam.id===t.id}]),key:a,"data-id":t.id},Object(c["M"])(t.name),11,b))),128))])],64))),128))]),_:1},8,["visible"])],64)}var o=a("846d"),j=a("c25e"),O=Object(c["m"])({name:"SpecialList",setup(){const e=Object(c["D"])([]),t=Object(c["D"])([]),a=Object(c["D"])([]),i=Object(c["D"])({id:""}),l={current:1,size:30},s=Object(c["F"])(!1);return Object(c["x"])(()=>{j["a"].open(),Object(o["n"])(l,null).then(c=>{c.page&&Object.assign(l,c.page),c.tags&&e.splice(0,e.length,...c.tags),a.splice(0,a.length,...c.list);const s=Math.random();c.tags&&c.tags.forEach(e=>{const a=e.items,c=a[s*a.length^0];c&&t.push(c)});const[{items:[n]}]=c.tags||[];n&&Object.assign(i,n)}).finally(j["a"].close)}),{tags:e,specialList:a,visibleTags:t,tagModal:s,specialTagParam:i,onListViewClicked(e){const t=e.target,c=t.classList;if(c.contains("special-tag-more"))return s.value=!0;const n=t.getAttribute("data-id");n&&n!==i.id&&(i.id=n,j["a"].open(),l.current=1,Object(o["n"])(l,i).then(e=>{e.page&&Object.assign(l,e.page),a.splice(0,a.length,...e.list)}).finally(j["a"].close))},loadData(){l.current>=1&&l.current<l.pageCount&&(j["a"].open(),++l.current,Object(o["n"])(l,i).then(e=>{e.page&&Object.assign(l,e.page),a.push(...e.list)}).catch(()=>--l.current).finally(j["a"].close))}}}}),r=(a("98b5"),a("6b0d")),g=a.n(r);const u=g()(O,[["render",d],["__scopeId","data-v-28a1979b"]]);t["default"]=u}}]);
//# sourceMappingURL=chunk-1cb04889.cd2581ee.js.map