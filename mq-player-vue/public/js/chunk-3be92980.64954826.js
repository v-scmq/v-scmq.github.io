(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3be92980"],{1115:function(e,t,c){"use strict";c("313c")},"23b4":function(e,t,c){"use strict";c.r(t);var a=c("f2bf");const n=["data-tag"],l=["data-mid"],i=Object(a["k"])(" -");function s(e,t,c,s,o,b){const r=Object(a["J"])("image-view"),u=Object(a["J"])("grid-view");return Object(a["z"])(),Object(a["h"])(a["a"],null,[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["H"])(e.tags,(c,l)=>(Object(a["z"])(),Object(a["h"])("div",{class:"v-row list-view",key:l,onClick:t[0]||(t[0]=(...t)=>e.onListViewClicked&&e.onListViewClicked(...t))},[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["H"])(c,t=>(Object(a["z"])(),Object(a["h"])("div",{class:Object(a["s"])(["item",{active:t.id===e.mvTagParam[t.group]}]),key:t.id,"data-tag":t.value},Object(a["M"])(t.name),11,n))),128))]))),128)),Object(a["l"])(u,{class:"arc-rect",style:{"margin-top":"1em"},"cell-widths":"repeat(auto-fit, 16em)",data:e.mvList,"cell-height":206,onInfiniteScroll:e.loadData},{default:Object(a["Q"])(({item:e})=>[Object(a["l"])(r,{modelValue:e.cover,"onUpdate:modelValue":t=>e.cover=t,defaultValue:"/icon/mv.png"},null,8,["modelValue","onUpdate:modelValue"]),Object(a["i"])("div",null,[(Object(a["z"])(!0),Object(a["h"])(a["a"],null,Object(a["H"])(e.singer,(e,t)=>(Object(a["z"])(),Object(a["h"])("span",{class:"link",key:t,"data-mid":e.mid},Object(a["M"])(e.name),9,l))),128)),i,Object(a["i"])("span",null,Object(a["M"])(e.title),1)])]),_:1},8,["data","onInfiniteScroll"])],64)}var o=c("846d"),b=c("c25e"),r=Object(a["m"])({name:"MVList",setup(){const e=Object(a["D"])([]),t=Object(a["D"])([]),c=Object(a["D"])({}),n={current:1,size:30};return Object(a["x"])(()=>{b["a"].open(),Object(o["g"])(n,null).then(a=>{a.page&&Object.assign(n,a.page);const l=[];Object.keys(a.tags).forEach(e=>{const t=e,n=a.tags[t];c[t]=n[0]&&n[0].id,n.forEach(t=>t.value=`${t.group=e};${t.id}`),l.push(n)}),e.splice(0,e.length,...l),t.splice(0,t.length,...a.list)}).finally(b["a"].close)}),{tags:e,mvList:t,mvTagParam:c,onListViewClicked(e){const a=e.target.getAttribute("data-tag");if(!a)return;const[l,i]=a.split(";");c[l]!==i&&(c[l]=i,n.current=1,b["a"].open(),Object(o["g"])(n,c).then(e=>{Object.assign(n,e.page),t.splice(0,t.length,...e.list)}).finally(b["a"].close))},loadData(){n.current>=1&&n.current<n.pageCount&&(b["a"].open(),++n.current,Object(o["g"])(n,c).then(e=>{Object.assign(n,e.page),t.push(...e.list)}).catch(()=>--n.current).finally(b["a"].close))}}}}),u=(c("1115"),c("6b0d")),d=c.n(u);const j=d()(r,[["render",s],["__scopeId","data-v-0d841a12"]]);t["default"]=j},"313c":function(e,t,c){}}]);
//# sourceMappingURL=chunk-3be92980.64954826.js.map